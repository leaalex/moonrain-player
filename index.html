<html>
	<head>
  		<meta charset="utf-8">
	</head>
<body>


<div id="id" class="media-container" data-wight="1280" data-src="https://rec.edu-kuban.ru/2016-06-17.10-19-41.6f5ef8098b922eb3_12345678/">
</div>

<div class="media-container" data-wight="1280" data-src="https://rec.edu-kuban.ru/2016-06-03.17-10-57.3950c7fb2ff18e0a_12356/">
</div>

</body>
</html>


<script type="text/javascript">
function Constructor(selector){

  var selector = selector || ".media-container";

  function query(selector){
    var array = [];
    var elements = document.querySelectorAll(selector);
    for (var i = 0; i < elements.length; i++){
      array.push(elements[i]);
    };
    return array;
  }


  function genID(value){
    var value = value+"_" || "id"
      return value + Math.random().toString(16).substr(2, 8).toUpperCase();
  };


  function getObjectJSON(urlJSON){
    var objectJSON = {};
    var request = new XMLHttpRequest();
    request.open('GET', urlJSON, false);
    request.onreadystatechange = function(e) {
        if (this.readyState == 4) {
            if (this.status == 200) {
              console.log("Загрузка успешно завершена: " + urlJSON);
              objectJSON = JSON.parse(this.responseText);
            }
            else {
              console.log("Ошибка загрузки: " + urlJSON)
            }
        }
    }
    request.send(null);
    return objectJSON;
  };


  function mediaObjects(objectJSON, type, property){
    var elements = [];
    objectJSON[type].forEach(function(element){
        elements.push(element[property])
    });
    return elements;
  };

  function createMediaELement(type, name){
    var element = document.createElement(type);
    var source = document.createElement("source");
    source.src = src + name;
    return element.appendChild(source);

  };

  function createElement(name, id, classList, attributes){

    var element = document.createElement(name);
    if (id) element.id =id;
    if (className) element.classList = classList;
    if (attributes){
      for (attribute in attributes){
        element.setAttribute(attribute, attributes[attribute])
      }
    }
    return element;
  };




  function createPlayer(mediaContainer){
    var src = mediaContainer.dataset.src;
    var objectJSON = getObjectJSON("0.json"); //дописать комментарий она прям для людей еще напечатаю очень удобно СПАСИБО!

    var videoNames = mediaObjects(objectJSON, "video", filename);
    var audioNames = mediaObjects(objectJSON, "audio", filename);

    var div = createElement("div", genID("blockMedia"),  "blockMedia", {width:"auto"})
    var div = createElement("div", genID("blockControls"), "blockControls",{})

    

  }













  this.init = function(){

    console.log(getObjectJSON("1.json"));
    /*var x = query(selector).forEach(function(element){element = element.dataset})
    console.log(
      x
    );*/
    var x = getObjectJSON("0.json");
    console.log( mediaObjects(x, "video", "filename") );


  };


}
</script>
